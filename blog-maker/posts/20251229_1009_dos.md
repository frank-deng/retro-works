Title:DOS实用技巧
Tags:DOS,Windows 3.x
---

DOS下添加CD-ROM支持
-------------------

将`OAKCDROM.SYS`复制到`C:\`（`OAKCDROM.SYS`可在Windows 9x的安装光盘中找到）。

如果MSCDEX没有安装，需要将`MSCDEX.EXE`复制到`C:\`。

在`CONFIG.SYS`中添加以下配置：

	DEVICEHIGH=C:\OAKCDROM.SYS /D:CD1
	LASTDRIVE=Z

在`AUTOEXEC.BAT`中添加以下命令：

	LH MSCDEX.EXE /D:CD1 /L:Z

`/L:Z`用来指定CD-ROM对应的盘符。

减少模拟器CPU占用
-----------------

MS-DOS 6.22自带`POWER.EXE`，在`CONFIG.SYS`里添加以下配置即可：

	DEVICEHIGH=C:\DOS\POWER.EXE ADV:MAX

其它版本的MS-DOS需要将`IDLE.COM`复制到`C:\`，然后从`AUTOEXEC.BAT`运行该命令。`IDLE.COM`可以在*Microsoft Virtual PC 2007*中找到。

Windows 3.x需要将`WQGHLT.386`复制到`C:\WINDOWS\SYSTEM\`，然后打开`C:\WINDOWS\SYSTEM.INI`并在`[386enh]`小节中添加以下配置：

	device=wqghlt.386

DOS优化内存配置
---------------

`CONFIG.SYS`开头添加以下配置：

	DEVICE=C:\DOS\HIMEM.SYS
	DEVICE=C:\DOS\EMM386.EXE NOEMS
	DOS=HIGH,UMB

之后的模块用`DEVICEHIGH`加载。

`AUTOEXEC.BAT`中的常驻命令添加`LH`前缀。

可使用DOS自带的`MEMMAKER`命令腾出更多常规内存。

UCDOS WPS更改颜色
-----------------

UCDOS WPS默认的蓝底绿字难以看清，可用`WPS /FE /S`命令改为更清楚的蓝底黄字。

用`WPS /?`获取命令行帮助信息。

如何在Windows 3.x下安装S3显卡驱动
---------------------------------

安装Windows 3.x时使用标准VGA显示驱动，安装完成后在“Windows 设置程序”中更改显卡驱动。

安装显卡驱动时如果提示插入S3 Trio 64V Flat Mode Driver软盘，则此时需要将路径填写成`C:\WINDOWS\SYSTEM\`以完成显卡驱动的安装。

DOSBox-X配置技巧
----------------

如果可能，请将`locking disk image mount`配置项设为`true`，防止多个运行中的实例写入相同硬盘镜像导致硬盘镜像损坏。

硬盘/光驱速度可通过`hard drive data rate limit`配置项调整。软驱速度可通过`floppy drive data rate limit`配置项调整（DOSBox-X部分早期版本不支持单独调整软驱速度）。

